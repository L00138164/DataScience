url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction'
web_page <- read_html(url)
head(web_page)
str(web_page)
ratings_data_html <- html_nodes(web_page, '#all_votes > table > tbody > tr:nth-child(n) > td:nth-child(n) > span.greyText.smallText.uitext')
head(rank_data_html, 10)
length(ratings_data_html)
ratings_data_html <- html_nodes(web_page, '#all_votes > table > tbody > tr:nth-child(n) > td:nth-child(n) > span.greyText.smallText.uitext')
head(ratings_data_html, 10)
length(ratings_data_html)
ratings_data_html <- xml_nodes(web_page, '#all_votes > table > tbody > tr:nth-child(n) > td:nth-child(n) > span.greyText.smallText.uitext')
head(ratings_data_html, 10)
ratings_data_html <- xml2(web_page, '#all_votes > table > tbody > tr:nth-child(n) > td:nth-child(n) > span.greyText.smallText.uitext')
ratings_data_html <- xml2(web_page, '#all_votes > table > tbody > tr:nth-child(n) > td:nth-child(n) > span.greyText.smallText.uitext')
install.packages(xml)
library("XML")
install.packages(XML)
install.packages("XML")
library("XML")
ratings_data_html <- xml2(web_page, '#all_votes > table > tbody > tr:nth-child(n) > td:nth-child(n) > span.greyText.smallText.uitext')
ratings_data_html <- xml2(web_page, '#all_votes > table > tbody > tr:nth-child(n) > td:nth-child(n) > span.greyText.smallText.uitext')
library("xml")
install.packages("XML")
library("XML")
ratings_data_html <- xml(web_page, '#all_votes > table > tbody > tr:nth-child(n) > td:nth-child(n) > span.greyText.smallText.uitext')
ratings_data_html <- xml(web_page, '#all_votes > table > tbody > tr:nth-child(n) > td:nth-child(n) > span.greyText.smallText.uitext')
ratings_data_html <- xml2(web_page, '#all_votes > table > tbody > tr:nth-child(n) > td:nth-child(n) > span.greyText.smallText.uitext')
ratings_data_html <- xml(web_page, '#all_votes > table > tbody > tr:nth-child(n) > td:nth-child(n) > span.greyText.smallText.uitext')
ratings_data_html <- xml(web_page, '#all_votes > table > tbody > tr:nth-child(n) > td:nth-child(n) > span.greyText.smallText.uitext')
ratings_data_html <- XML(web_page, '#all_votes > table > tbody > tr:nth-child(n) > td:nth-child(n) > span.greyText.smallText.uitext')
ratings_data_html <- html_nodes(web_page, 'text-primary')
head(ratings_data_html, 10)
length(ratings_data_html)
library("dplyr")
packageDesc("xml")
packageDescription("xml")
install.packages("XML")
library('XML')
ratings_data_html <- xml(web_page, '#all_votes > table > tbody > tr:nth-child(n) > td:nth-child(n) > span.greyText.smallText.uitext')
ratings_data_html <- html_nodes(web_page, 'text-primary')
head(ratings_data_html, 10)
length(ratings_data_html)
ratings_data_html <- XML(web_page, 'text-primary')
ratings_data_html <- xml(web_page, 'text-primary')
library('XML')
library(XML)
ratings_data_html <- html_nodes(web_page, '#all_votes > table > tbody > tr:nth-child(n) > td:nth-child(n) > span.greyText.smallText.uitext')
library(rvest)
url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction'
web_page <- read_html(url)
head(web_page)
library("dplyr")
str(web_page)
ratings_data_html <- html_nodes(web_page, '#all_votes > table > tbody > tr:nth-child(n) > td:nth-child(n) > span.greyText.smallText.uitext')
head(ratings_data_html, 10)
head(ratings_data_html, 10)
url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction'
web_page <- read_html(url)
head(web_page)
str(web_page)
ratings_data_html <- html_nodes(web_page, '#all_votes > table > tbody > tr:nth-child(n) > td:nth-child(n) > span.greyText.smallText.uitext')
head(rank_data_html, 10)
length(rank_data_html)
head(ratings_data_html, 10)
ratings_data_html <- html_nodes(web_page, '#all_votes > table > tbody > tr:nth-child(n) > td:nth-child(n) > span.greyText.smallText.uitext')
head(ratings_data_html, 10)
ratings_data_html <- html_nodes(web_page, '//*[@id="all_votes"]/table/tbody/tr[n]/td[n]/span[n]/span')
ratings_data_html <- html_nodes(web_page, '#all_votes > table > tbody > tr:nth-child(n) > td:nth-child(n) > span.greyText.smallText.uitext > span')
head(ratings_data_html, 10)
ratings_data_html <- html_nodes(web_page, '#all_votes > table > tbody > tr:nth-child(1) > td:nth-child(3) > span.greyText.smallText.uitext > span')
head(ratings_data_html, 10)
ratings_data_html <- html_nodes(web_page, '#all_votes > table > tbody > tr:nth-child(n) > td:nth-child(n) > span.greyText.smallText.uitext > span')
head(ratings_data_html, 10)
ratings_data_html <- html_table(web_page, '#all_votes > table > tbody > tr:nth-child(n) > td:nth-child(n) > span.greyText.smallText.uitext > span')
all_html <- read_html(web_page)
html_table(html_nodes(all_html, "table")[[2]])
all_html <- read_html(web_page)
web_page <- read_html(url)
head(web_page)
str(web_page)
html_table(html_nodes(web_page, "table")[[0]])
html_table(html_nodes(web_page, "table")[[1]])
html_table(html_nodes(web_page, "table")[[1]])
crime_table <- html_table(html_nodes(web_page, "table")[[1]])
head(crime_table,10)
length(crime_table)
str(crime_table)
tbls <- html_nodes(web_page, "table")
head(tbls)
crime_table <- html_table(tbls, header = TRUE, trim = TRUE,fill=TRUE,dec=".")
head(crime_table)
crime_table <- html_table(tbls, header = FALSE, trim = TRUE,fill=TRUE,dec=".")
head(crime_table)
head(crime_table)
head(crime_table[[1]],4)
head(tbls)
crime_table <- html_table(tbls[0], header = FALSE, trim = TRUE,fill=TRUE,dec=".")
head(tbls)
crime_table <- html_table(tbls[0], header = FALSE, trim = TRUE,fill=TRUE,dec=".")
head(crime_table[[1]],4)
crime_table <- html_table(tbls[1], header = FALSE, trim = TRUE,fill=TRUE,dec=".")
head(crime_table[[1]],4)
crime_table <- html_table(tbls, header = FALSE, trim = TRUE,fill=TRUE,dec=".")
head(crime_table,4)
str(crime_table)
crime_table <- html_table(tbls, header = NA, trim = TRUE,fill=TRUE,dec=".")
head(crime_table, 4)
str(crime_table)
crime_table <- html_table(tbls, header = NA, trim = TRUE,fill=TRUE,dec=".")
head(crime_table[0][2], 4)
head(crime_table[2][2], 4)
str(crime_table)
tpoicname <- html_nodes(crime_table, '.bookTitle')
tpoicname <- html_nodes(crime_table, '.bookTitle','#all_votes > table > tbody > tr:nth-child(n) > td:nth-child(n) > a > span')
tpoicname <- html_nodes(tbls, '.bookTitle')
head(tpoicname,10)
testtopic <- html_nodes(tbls,'#all_votes > table > tbody > tr:nth-child(1) > td:nth-child(3) > a > span')
head(testtopic)
topicname <- html_text(html_nodes(tbls, '.bookTitle'), trim = TRUE)
head(tpoicname, 10)
topicname <- html_text(html_nodes(tbls, '.bookTitle'), trim = TRUE)
head(topicname, 10)
head(topicname)
tbls <- html_nodes(web_page, "table")
head(tbls)
crime_table <- html_table(tbls, header = NA, trim = TRUE,fill=TRUE,dec=".")
head(crime_table)
str(crime_table)
topicname <- html_text(html_nodes(tbls, '.bookTitle'), trim = TRUE)
head(topicname)
topicname <- html_text(html_nodes(tbls, '.bookTitle'), trim = FALSE)
head(topicname)
topicname <- html_text(html_nodes(crime_table, '.bookTitle'), trim = FALSE)
head(topicname)
topicname <- html_text(html_nodes(tbls, '.bookTitle'), trim = TRUE)
head(topicname)
head(topicname,100)
url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page=2'
# Reading the HTML code from the website
web_page <- read_html(url,)
tbls <- html_nodes(web_page, "table")
head(tbls)
topicname <- html_text(html_nodes(tbls, '.bookTitle'), trim = TRUE)
head(topicname,100)
authorname <- htm_text(html_nodes(tbls, '.authorName'), trim = TRUE)
authorname <- html_text(html_nodes(tbls, '.authorName'), trim = TRUE)
head(authorname)
topicname <- html_text(html_nodes(tbls, '.bookTitle'), trim = TRUE)
head(topicname,100)
score <- html_text(html_nodes(tbls, '.smallText uitext')), trim = TRUE)
score <- html_text(html_nodes(tbls, '.smallText uitext'), trim = TRUE)
head(score)
score <- html_text(html_nodes(tbls, '.minirating'), trim = TRUE)
head(score)
gsub(score,""," ")
score <- html_text(html_nodes(tbls, '.minirating'), trim = FALSE)
head(score)
? substr
substr(score,0,3)
substr(score,0,5)
trimws(substr(score,0,5))
as.character(rating)
rating<- trimws(substr(score,0,5))
as.character(rating)
as.numeric(rating)
head(topicname,100)
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     for (init_page_num  in 1:total_page_num) {         actual_url < paste(base_page_url, as.character(init_page_num))         # Reading the HTML code from the website         web_page <- read_html(actual_url,)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(actual_url)         topicname <- rbind(topicname)         author_name <- get_author_name(actual_url)         author_name <- rbind(author_name)         book_rating <- get_book_rating(actual_url)         book_rating <- rbind(book_rating)     }     crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     head(crime_book_data) } get_topic_name<- function(arg_page_url) {     topicname <- html_text(html_nodes(tbls, '.bookTitle'), trim = TRUE)     return(topicname) } get_author_name <- function(arg_page_url) {     authorname <- html_text(html_nodes(tbls, '.authorName'), trim = TRUE)     head(authorname, 100) } get_book_rating <- function(arg_page_url) {     score <- html_text(html_nodes(tbls, '.minirating'), trim = FALSE)     head(score)     rating <- trimws(substr(score, 0, 5)) }
scrap_crimebook_data()
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     for (init_page_num  in 1:total_page_num) {         actual_url < paste(base_page_url, as.character(init_page_num))         head(actual_url)         # Reading the HTML code from the website        # web_page <- read_html(actual_url,)         #tbls <- html_nodes(web_page, "table")         #topic_name <- get_topic_name(actual_url)         #topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) }
scrap_crimebook_data()
scrap_crimebook_data()
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     for (init_page_num  in 1:total_page_num) {        # actual_url < paste(base_page_url, as.character(init_page_num))         head(base_page_url)         # Reading the HTML code from the website        # web_page <- read_html(actual_url,)         #tbls <- html_nodes(web_page, "table")         #topic_name <- get_topic_name(actual_url)         #topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) }
scrap_crimebook_data()
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     for (init_page_num  in 1:total_page_num) {        # actual_url < paste(base_page_url, as.character(init_page_num))        base_page_url         # Reading the HTML code from the website        # web_page <- read_html(actual_url,)         #tbls <- html_nodes(web_page, "table")         #topic_name <- get_topic_name(actual_url)         #topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) }
scrap_crimebook_data()
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     x <- c("Hello", "World")     x     for (init_page_num  in 1:total_page_num) {        # actual_url < paste(base_page_url, as.character(init_page_num))        base_page_url         # Reading the HTML code from the website        # web_page <- read_html(actual_url,)         #tbls <- html_nodes(web_page, "table")         #topic_name <- get_topic_name(actual_url)         #topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) }
scrap_crimebook_data()
x <- c("Hello", "World")
x
topictest<-scrap_crimebook_data()
head(topictest)
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page=1'     for (init_page_num  in 1:total_page_num) {        actual_url < c(base_page_url, as.character(init_page_num))         # Reading the HTML code from the website         web_page <- read_html(base_page_url,)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(actual_url)         #topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return (topicname)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) }
topictest<-scrap_crimebook_data()
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page=1'     for (init_page_num  in 1:total_page_num) {        actual_url < c(base_page_url, as.character(init_page_num))         # Reading the HTML code from the website         web_page <- read_html(base_page_url,)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(base_page_url)         #topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return (topicname)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) }
topictest<-scrap_crimebook_data()
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page=1'     for (init_page_num  in 1:total_page_num) {       # actual_url < c(base_page_url, as.character(init_page_num))         # Reading the HTML code from the website         web_page <- read_html(base_page_url,)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(base_page_url)         #topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return (topicname)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) }
topictest<-scrap_crimebook_data()
head(topictest)
head(topictest)
topictest<-scrap_crimebook_data()
head(topictest)
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page=1'     for (init_page_num  in 1:total_page_num) {       # actual_url < c(base_page_url, as.character(init_page_num))         # Reading the HTML code from the website         web_page <- read_html(base_page_url,)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(base_page_url)         topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return (topicname)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) }
topictest<-scrap_crimebook_data()
head(topictest)
>  scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     for (init_page_num  in 1:total_page_num) {       # actual_url < c(base_page_url, as.character(init_page_num))         base_page_url <- c(base_page_url, as.character(init_page_num))         # Reading the HTML code from the website         web_page <- read_html(base_page_url,)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(base_page_url)         topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return (topicname)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) }
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     for (init_page_num  in 1:total_page_num) {       # actual_url < c(base_page_url, as.character(init_page_num))         base_page_url <- c(base_page_url, as.character())         # Reading the HTML code from the website         web_page <- read_html(base_page_url,)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(base_page_url)         topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return (topicname)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) }
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     for (init_page_num  in 1:total_page_num) {       # actual_url < c(base_page_url, as.character(init_page_num))         base_page_url <- c(base_page_url, as.character(init_page_num))         # Reading the HTML code from the website         web_page <- read_html(base_page_url,)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(base_page_url)         topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return (topicname)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) }
topictest<-scrap_crimebook_data()
url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='
test_url<-c(url,as.character(1))
head(test_url)
url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='
test_url<-c(url,as.numeric(1))
head(test_url)
url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='
test_url<-c(url,as.numeric("1"))
head(test_url)
url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='
test_url <- paste(url, as.numeric("1"))
head(test_url)
url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='
test_url <- paste(url, as.numeric("2"))
head(test_url)
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     for (init_page_num  in 1:total_page_num) {       # actual_url < c(base_page_url, as.character(init_page_num))         base_page_url <- paste(base_page_url, as.numeric(init_page_num))         # Reading the HTML code from the website         web_page <- read_html(base_page_url,)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(base_page_url)         topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return (topicname)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) }
topictest <- scrap_crimebook_data()
head(topictest)
topictest <- scrap_crimebook_data()
head(topictest)
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     for (init_page_num  in 1:total_page_num) {       # actual_url < c(base_page_url, as.character(init_page_num))         base_page_url <- paste(base_page_url, as.numeric(init_page_num))         # Reading the HTML code from the website         web_page <- read_html(base_page_url,)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(base_page_url)         topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return (topicname)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) }
topictest <- scrap_crimebook_data()
head(topictest)
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     for (init_page_num  in 1:total_page_num) {       # actual_url < c(base_page_url, as.character(init_page_num))         base_page_url <- paste(base_page_url, as.numeric(init_page_num))         # Reading the HTML code from the website         web_page <- read_html(base_page_url,)         base_page_url         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(base_page_url)         topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return (topicname)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) }
topictest <- scrap_crimebook_data()
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     for (init_page_num  in 1:total_page_num) {       # actual_url < c(base_page_url, as.character(init_page_num))         base_page_url <- paste(base_page_url, as.numeric(init_page_num))         # Reading the HTML code from the website         web_page <- read_html(base_page_url,)         print(base_page_url)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(base_page_url)         topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return (topicname)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) }
topictest <- scrap_crimebook_data()
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     for (init_page_num in 1:total_page_num) {         actual_url<-''         actual_url < paste(base_page_url, as.numeric(init_page_num))         base_page_url <- paste(base_page_url, as.numeric(init_page_num))         # Reading the HTML code from the website         web_page <- read_html(base_page_url,)         print(actual_url)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(base_page_url)         topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return (topicname)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) }
topictest <- scrap_crimebook_data()
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     for (init_page_num in 1:total_page_num) {         actual_url < paste(base_page_url, as.numeric(init_page_num))         base_page_url <- paste(base_page_url, as.numeric(init_page_num))         # Reading the HTML code from the website         web_page <- read_html(base_page_url,)         print(actual_url)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(base_page_url)         topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return (topicname)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) }
topictest <- scrap_crimebook_data()
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     actual_url <- ' '     for (init_page_num in 1:total_page_num) {         actual_url < paste(base_page_url, as.numeric(init_page_num))         base_page_url <- paste(base_page_url, as.numeric(init_page_num))         # Reading the HTML code from the website         web_page <- read_html(base_page_url,)         print(actual_url)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(base_page_url)         topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return (topicname)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) }
topictest <- scrap_crimebook_data()
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     actual_url <- base_page_url     for (init_page_num in 1:total_page_num) {         actual_url < paste(base_page_url, as.numeric(init_page_num))         base_page_url <- assign(paste(base_page_url, as.numeric(init_page_num)))         # Reading the HTML code from the website         web_page <- read_html(base_page_url,)         print(base_page_url)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(base_page_url)         topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return (topicname)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) }
topictest <- scrap_crimebook_data()
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     actual_url <- base_page_url     for (init_page_num in 1:total_page_num) {         actual_url < paste(base_page_url, as.numeric(init_page_num))         base_page_url <- assign(base_page_url,paste(base_page_url, as.numeric(init_page_num)))         # Reading the HTML code from the website         web_page <- read_html(base_page_url,)         print(base_page_url)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(base_page_url)         topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return (topicname)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) }
topictest <- scrap_crimebook_data()
for (i in 1:1) {     #name variable i "Variablei"     varName = paste("Variable", as.character(i), sep = "")     print(varName) }
for (i in 1:1) {     #name variable i "Variablei"     varName = paste("Variable", as.character(i), sep = "")     print(varName) }
for (i in 1:10) {     #name variable i "Variablei"     varName = paste("Variable", as.character(i), sep = "")     print(varName) }
base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page=' for (i in 1:10) {     #name variable i "Variablei"     varName = paste(base_page_url, as.character(i), sep = "")     print(varName) }
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     actual_url <- base_page_url     for (init_page_num in 1:total_page_num) {         actual_url = paste(base_page_url, as.character(init_page_num), sep = "")         base_page_url <- paste(base_page_url, as.numeric(init_page_num))         # Reading the HTML code from the website         web_page <- read_html(actual_url,)         print(actual_url)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(base_page_url)         topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return (topicname)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) }
topictest <- scrap_crimebook_data()
>  scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     for (init_page_num in 1:total_page_num) {         actual_url = paste(base_page_url, as.character(init_page_num), sep = "")         # Reading the HTML code from the website         web_page <- read_html(actual_url,)         print(actual_url)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(actual_url)         topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return (topicname)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) }
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     for (init_page_num in 1:total_page_num) {         actual_url = paste(base_page_url, as.character(init_page_num), sep = ""))         # Reading the HTML code from the website         web_page <- read_html(actual_url,)         print(actual_url)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(actual_url)         topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return (topicname)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) }
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     for (init_page_num in 1:total_page_num) {         actual_url = paste(base_page_url, as.character(init_page_num), sep = "")         # Reading the HTML code from the website         web_page <- read_html(actual_url,)         print(actual_url)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(actual_url)         topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return (topicname)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) }
topictest <- scrap_crimebook_data()
topictest <- scrap_crimebook_data()
head(topictest)
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     for (init_page_num in 1:total_page_num) {         actual_url = paste(base_page_url, as.character(init_page_num), sep = "")         # Reading the HTML code from the website         web_page <- read_html(actual_url,)         print(actual_url)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(actual_url)         topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return (topicname)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) } get_topic_name<- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     topicname <- html_text(html_nodes(page_tbls, '.bookTitle'), trim = TRUE)     return(topicname) }
topictest <- scrap_crimebook_data()
head(topictest)
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     for (init_page_num in 1:total_page_num) {         actual_url = paste(base_page_url, as.character(init_page_num), sep = "")         # Reading the HTML code from the website         web_page <- read_html(actual_url,)         print(actual_url)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(actual_url)         topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return (topicname)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) } get_topic_name<- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     topicname <- html_text(html_nodes(page_tbls, '.bookTitle'), trim = TRUE)     head(topicname,100)     return(topicname) }
topictest <- scrap_crimebook_data()
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     for (init_page_num in 1:total_page_num) {         actual_url = paste(base_page_url, as.character(init_page_num), sep = "")         # Reading the HTML code from the website         web_page <- read_html(actual_url,)         print(actual_url)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(actual_url)         print(topic_name)         topicname <- rbind(topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return (topicname)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) } get_topic_name<- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     topicname <- html_text(html_nodes(page_tbls, '.bookTitle'), trim = TRUE)     return(topicname) }
topictest <- scrap_crimebook_data()
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     for (init_page_num in 1:total_page_num) {         actual_url = paste(base_page_url, as.character(init_page_num), sep = "")         # Reading the HTML code from the website         web_page <- read_html(actual_url,)         print(actual_url)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(actual_url)        # print(topic_name)         topicname <- rbind(topicname,topicname)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return (topicname)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) } get_topic_name<- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     topicname <- html_text(html_nodes(page_tbls, '.bookTitle'), trim = TRUE)     return(topicname) }
topictest <- scrap_crimebook_data()
head(topictest)
topictest <- scrap_crimebook_data()
head(topictest)
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     datalist_topicname = list()     for (init_page_num in 1:total_page_num) {         actual_url = paste(base_page_url, as.character(init_page_num), sep = "")         # Reading the HTML code from the website         web_page <- read_html(actual_url,)         #print(actual_url)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(actual_url)        # print(topic_name)         topicname <- rbind(topicname, topicname)         datalist_topicname[[init_page_num]] <- topicname         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     big_data = do.call(rbind, datalist_topicname)     return(big_data)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) } get_topic_name<- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     topicname <- html_text(html_nodes(page_tbls, '.bookTitle'), trim = TRUE)     return(topicname) }
topictest <- scrap_crimebook_data()
head(topictest)
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     datalist_topicname = list()     for (init_page_num in 1:total_page_num) {         actual_url = paste(base_page_url, as.character(init_page_num), sep = "")         # Reading the HTML code from the website         web_page <- read_html(actual_url,)         #print(actual_url)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(actual_url)        # print(topic_name)         #topicname <- rbind(topicname, topicname)         datalist_topicname[[init_page_num]] <- topic_name         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     big_data = do.call(rbind, datalist_topicname)     return(big_data)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) } get_topic_name<- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     topicname <- html_text(html_nodes(page_tbls, '.bookTitle'), trim = TRUE)     return(topicname) }
topictest <- scrap_crimebook_data()
head(topictest)
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     lst_topics     for (init_page_num in 1:total_page_num) {         actual_url = paste(base_page_url, as.character(init_page_num), sep = "")         # Reading the HTML code from the website         web_page <- read_html(actual_url,)         #print(actual_url)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(actual_url)        # print(topic_name)         lst_topics <- rbind(lst_topics, topic_name)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return(lst_topics)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) } get_topic_name<- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     topicname <- html_text(html_nodes(page_tbls, '.bookTitle'), trim = TRUE)     return(topicname) }
topictest <- scrap_crimebook_data()
head(topictest)
head(topictest,300)
head(topictest,800)
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     lst_topics     for (init_page_num in 1:total_page_num) {         actual_url = paste(base_page_url, as.character(init_page_num), sep = "")         # Reading the HTML code from the website         web_page <- read_html(actual_url,)         #print(actual_url)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(actual_url)        # print(topic_name)         lst_topics <- rbind(lst_topics, topic_name)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return(lst_topics)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) } get_topic_name<- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     topicname <- html_text(html_nodes(page_tbls, '.bookTitle'), trim = TRUE)     return(topicname) }
topictest <- scrap_crimebook_data()
head(topictest,800)
head(l)
l <- c()
i = 1
while (i < 100) {     b <- i     l <- c(l, b)     i = i + 1 }
head(l)
l <- c()
i = 1
while (i < 100) {     b <- i     l <- c(l, b)     i = i + 1 }
head(l)
head(l,100)
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     lst_topics <- c()     for (init_page_num in 1:total_page_num) {         actual_url = paste(base_page_url, as.character(init_page_num), sep = "")         # Reading the HTML code from the website         web_page <- read_html(actual_url,)         #print(actual_url)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(actual_url)        # print(topic_name)         lst_topics <- c(lst_topics, topic_name)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     return(lst_topics)     #crime_book_data <- data.frame(BookTitle = topic_name, AuthorName = author_name,BookRating=book_rating)     #head(crime_book_data) } get_topic_name<- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     topicname <- html_text(html_nodes(page_tbls, '.bookTitle'), trim = TRUE)     return(topicname) }
topictest <- scrap_crimebook_data()
head(topictest,800)
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     lst_topics <- c()     lst_authors <- c()     lst_ratings <- c()     for (init_page_num in 1:total_page_num) {         actual_url = paste(base_page_url, as.character(init_page_num), sep = "")         # Reading the HTML code from the website         web_page <- read_html(actual_url,)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(actual_url)         author_name <- get_author_name(actual_url)         book_rating <- get_book_rating(actual_url)         lst_topics <- c(lst_topics, topic_name)         lst_authors <- c(lst_authors, author_name)         lst_ratings <- c(lst_ratings, book_rating)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     crime_book_data <- data.frame(BookTitle = lst_topics, AuthorName = lst_authors, BookRating = lst_ratings)     return(crime_book_data) } get_topic_name<- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     topicname <- html_text(html_nodes(page_tbls, '.bookTitle'), trim = TRUE)     return(topicname) } get_author_name <- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     authorname <- html_text(html_nodes(page_tbls, '.authorName'), trim = TRUE)     return(authorname) } get_book_rating <- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     score <- html_text(html_nodes(page_tbls, '.minirating'), trim = FALSE)     rating <- trimws(substr(score, 0, 5))     return(rating) }
crime_data_table <- scrap_crimebook_data()
head(crime_data_table, 800)
crime_data_table <- scrap_crimebook_data()
head(crime_data_table, 800)
crime_data_table <- scrap_crimebook_data() head(crime_data_table, 800) scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     lst_topics <- c()     lst_authors <- c()     lst_ratings <- c()     for (init_page_num in 1:total_page_num) {         actual_url = paste(base_page_url, as.character(init_page_num), sep = "")         # Reading the HTML code from the website         web_page <- read_html(actual_url,)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(actual_url)         author_name <- get_author_name(actual_url)         book_rating <- get_book_rating(actual_url)         lst_topics <- c(lst_topics, topic_name)         lst_authors <- c(lst_authors, author_name)         lst_ratings <- c(lst_ratings, book_rating)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     crime_book_data <- data.frame(BookTitle = lst_topics, AuthorName = lst_authors, BookRating = lst_ratings)     return(crime_book_data) } get_topic_name<- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     topicname <- html_text(html_nodes(page_tbls, '.bookTitle'), trim = TRUE)     return(topicname) } get_author_name <- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     authorname <- html_text(html_nodes(page_tbls, '.authorName'), trim = TRUE)     return(authorname) } get_book_rating <- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     score <- html_text(html_nodes(page_tbls, '.minirating'), trim = FALSE)     rating <- trimws(substr(score, 0, 5))     return(rating) }
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     lst_topics <- c()     lst_authors <- c()     lst_ratings <- c()     for (init_page_num in 1:total_page_num) {         actual_url = paste(base_page_url, as.character(init_page_num), sep = "")         # Reading the HTML code from the website         web_page <- read_html(actual_url,)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(actual_url)         author_name <- get_author_name(actual_url)         book_rating <- get_book_rating(actual_url)         lst_topics <- c(lst_topics, topic_name)         lst_authors <- c(lst_authors, author_name)         lst_ratings <- c(lst_ratings, book_rating)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     #crime_book_data <- data.frame(BookTitle = lst_topics, AuthorName = lst_authors, BookRating = lst_ratings)     crime_book_data <- data.frame(BookTitle = lst_topics)     return(crime_book_data) }
crime_data_table <- scrap_crimebook_data()
head(crime_data_table, 800)
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     lst_topics <- c()     lst_authors <- c()     lst_ratings <- c()     for (init_page_num in 1:total_page_num) {         actual_url = paste(base_page_url, as.character(init_page_num), sep = "")         # Reading the HTML code from the website         web_page <- read_html(actual_url,)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(actual_url)         author_name <- get_author_name(actual_url)         book_rating <- get_book_rating(actual_url)         lst_topics <- c(lst_topics, topic_name)         lst_authors <- c(lst_authors, author_name)         lst_ratings <- c(lst_ratings, book_rating)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     #crime_book_data <- data.frame(BookTitle = lst_topics, AuthorName = lst_authors, BookRating = lst_ratings)     crime_book_data <- data.frame(BookTitle = lst_topics, AuthorName = lst_authors)     return(crime_book_data) }
crime_data_table <- scrap_crimebook_data()
head(crime_data_table, 800)
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     lst_topics <- c()     lst_authors <- c()     lst_ratings <- c()     for (init_page_num in 1:total_page_num) {         actual_url = paste(base_page_url, as.character(init_page_num), sep = "")         # Reading the HTML code from the website         web_page <- read_html(actual_url,)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(actual_url)         author_name <- get_author_name(actual_url)         book_rating <- get_book_rating(actual_url)         lst_topics <- c(lst_topics, topic_name)         lst_authors <- c(lst_authors, author_name)         lst_ratings <- c(lst_ratings, book_rating)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     #crime_book_data <- data.frame(BookTitle = lst_topics, AuthorName = lst_authors, BookRating = lst_ratings)     crime_book_data <- data.frame(BookTitle = lst_topics, AuthorName = lst_authors)     return(crime_book_data) }
get_topic_name<- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     topicname <- html_text(html_nodes(page_tbls, '.bookTitle'), trim = TRUE)     return(topicname) } get_author_name <- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     authorname <- html_text(html_nodes(page_tbls, '.authorName'), trim = TRUE)     return(authorname) } get_book_rating <- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     score <- html_text(html_nodes(page_tbls, '.minirating'), trim = FALSE)     rating <- trimws(substr(score, 0, 5))     return(rating) }
crime_data_table <- scrap_crimebook_data()
head(crime_data_table, 800)
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     lst_topics <- c()     lst_authors <- c()     lst_ratings <- c()     for (init_page_num in 1:total_page_num) {         actual_url = paste(base_page_url, as.character(init_page_num), sep = "")         # Reading the HTML code from the website         web_page <- read_html(actual_url,)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(actual_url)         author_name <- get_author_name(actual_url)         book_rating <- get_book_rating(actual_url)         lst_topics <- c(lst_topics, topic_name)         lst_authors <- c(lst_authors, author_name)         lst_ratings <- c(lst_ratings, book_rating)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     print(lst_authors)     #crime_book_data <- data.frame(BookTitle = lst_topics, AuthorName = lst_authors, BookRating = lst_ratings)     crime_book_data <- data.frame(BookTitle = lst_topics, AuthorName = lst_authors)     return(crime_book_data) }
crime_data_table <- scrap_crimebook_data()
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     lst_topics <- c()     lst_authors <- c()     lst_ratings <- c()     for (init_page_num in 1:total_page_num) {         actual_url = paste(base_page_url, as.character(init_page_num), sep = "")         # Reading the HTML code from the website         web_page <- read_html(actual_url,)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(actual_url)         author_name <- get_author_name(actual_url)         book_rating <- get_book_rating(actual_url)         lst_topics <- c(lst_topics, topic_name)         lst_authors <- c(lst_authors, author_name)         lst_ratings <- c(lst_ratings, book_rating)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     print(lst_authors)     #crime_book_data <- data.frame(BookTitle = lst_topics, AuthorName = lst_authors, BookRating = lst_ratings)     crime_book_data <- data.frame(BookTitle = lst_topics, AuthorName = lst_authors)     return(crime_book_data) } get_topic_name<- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     topicname <- html_text(html_nodes(page_tbls, '.bookTitle'), trim = TRUE)     return(topicname) } get_author_name <- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "a")     authorname <- html_text(html_nodes(page_tbls, '.authorName'), trim = TRUE)     return(authorname) } get_book_rating <- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     score <- html_text(html_nodes(page_tbls, '.minirating'), trim = FALSE)     rating <- trimws(substr(score, 0, 5))     return(rating) }
crime_data_table <- scrap_crimebook_data()
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     lst_topics <- c()     lst_authors <- c()     lst_ratings <- c()     for (init_page_num in 1:total_page_num) {         actual_url = paste(base_page_url, as.character(init_page_num), sep = "")         # Reading the HTML code from the website         web_page <- read_html(actual_url,)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(actual_url)         author_name <- get_author_name(actual_url)         book_rating <- get_book_rating(actual_url)         lst_topics <- c(lst_topics, topic_name)         lst_authors <- c(lst_authors, author_name)         lst_ratings <- c(lst_ratings, book_rating)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     print(lst_authors)     #crime_book_data <- data.frame(BookTitle = lst_topics, AuthorName = lst_authors, BookRating = lst_ratings)     crime_book_data <- data.frame(BookTitle = lst_topics, AuthorName = lst_authors)     return(crime_book_data) } get_topic_name<- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     topicname <- html_text(html_nodes(page_tbls, '.bookTitle'), trim = TRUE)     return(topicname) } get_author_name <- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     authorname <- html_text(html_nodes(page_tbls, 'a.authorName'), trim = TRUE)     return(authorname) } get_book_rating <- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     score <- html_text(html_nodes(page_tbls, '.minirating'), trim = FALSE)     rating <- trimws(substr(score, 0, 5))     return(rating) }
crime_data_table <- scrap_crimebook_data()
head(crime_data_table, 800)
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     lst_topics <- c()     lst_authors <- c()     lst_ratings <- c()     for (init_page_num in 1:total_page_num) {         actual_url = paste(base_page_url, as.character(init_page_num), sep = "")         # Reading the HTML code from the website         web_page <- read_html(actual_url,)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(actual_url)         author_name <- get_author_name(actual_url)         book_rating <- get_book_rating(actual_url)         lst_topics <- c(lst_topics, topic_name)         lst_authors <- c(lst_authors, author_name)         lst_ratings <- c(lst_ratings, book_rating)         #author_name <- get_author_name(actual_url)         #author_name <- rbind(author_name)         #book_rating <- get_book_rating(actual_url)         #book_rating <- rbind(book_rating)     }     #print(lst_authors)     #crime_book_data <- data.frame(BookTitle = lst_topics, AuthorName = lst_authors, BookRating = lst_ratings)     crime_book_data <- data.frame(BookTitle = lst_topics, AuthorName = lst_authors, BookRating = lst_ratings)     return(crime_book_data) } get_topic_name<- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     topicname <- html_text(html_nodes(page_tbls, '.bookTitle'), trim = TRUE)     return(topicname) } get_author_name <- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     authorname <- html_text(html_nodes(page_tbls, 'a.authorName'), trim = TRUE)     return(authorname) } get_book_rating <- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     score <- html_text(html_nodes(page_tbls, '.minirating'), trim = FALSE)     rating <- trimws(substr(score, 0, 5))     return(rating) }
crime_data_table <- scrap_crimebook_data()
head(crime_data_table, 800)
crime_data_table <- scrap_crimebook_data() head(crime_data_table, 800) scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     lst_topics <- c()     lst_authors <- c()     lst_ratings <- c()     for (init_page_num in 1:total_page_num) {         actual_url = paste(base_page_url, as.character(init_page_num), sep = "")         # Reading the HTML code from the website         web_page <- read_html(actual_url,)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(actual_url)         author_name <- get_author_name(actual_url)         book_rating <- get_book_rating(actual_url)         lst_topics <- c(lst_topics, topic_name)         lst_authors <- c(lst_authors, author_name)         lst_ratings <- c(lst_ratings, book_rating)     }     crime_book_data <- data.frame(BookTitle = lst_topics, AuthorName = lst_authors, BookRating = lst_ratings)     return(crime_book_data) } get_topic_name<- function(arg_page_url) {     #f_web_page <- read_html(arg_page_url,)     #page_tbls <- html_nodes(f_web_page, "table")     topicname <- html_text(html_nodes(get_table(arg_page_url), '.bookTitle'), trim = TRUE)     return(topicname) } get_author_name <- function(arg_page_url) {     #f_web_page <- read_html(arg_page_url,)     #page_tbls <- html_nodes(f_web_page, "table")     authorname <- html_text(html_nodes(get_table(arg_page_url), 'a.authorName'), trim = TRUE)     return(authorname) } get_book_rating <- function(arg_page_url) {    # f_web_page <- read_html(arg_page_url,)    #page_tbls <- html_nodes(f_web_page, "table")     score <- html_text(html_nodes(get_table(arg_page_url), '.minirating'), trim = FALSE)     rating <- trimws(substr(score, 0, 5))     return(rating) } get_table <- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     return(page_tbls) }
scrap_crimebook_data <- function() {     total_page_num <- 8     base_page_url <- 'https://www.goodreads.com/list/show/3919.Best_Modern_Mystery_Crime_fiction?page='     lst_topics <- c()     lst_authors <- c()     lst_ratings <- c()     for (init_page_num in 1:total_page_num) {         actual_url = paste(base_page_url, as.character(init_page_num), sep = "")         # Reading the HTML code from the website         web_page <- read_html(actual_url,)         tbls <- html_nodes(web_page, "table")         topic_name <- get_topic_name(actual_url)         author_name <- get_author_name(actual_url)         book_rating <- get_book_rating(actual_url)         lst_topics <- c(lst_topics, topic_name)         lst_authors <- c(lst_authors, author_name)         lst_ratings <- c(lst_ratings, book_rating)     }     crime_book_data <- data.frame(BookTitle = lst_topics, AuthorName = lst_authors, BookRating = lst_ratings)     return(crime_book_data) } get_topic_name<- function(arg_page_url) {     #f_web_page <- read_html(arg_page_url,)     #page_tbls <- html_nodes(f_web_page, "table")     topicname <- html_text(html_nodes(get_table(arg_page_url), '.bookTitle'), trim = TRUE)     return(topicname) } get_author_name <- function(arg_page_url) {     #f_web_page <- read_html(arg_page_url,)     #page_tbls <- html_nodes(f_web_page, "table")     authorname <- html_text(html_nodes(get_table(arg_page_url), 'a.authorName'), trim = TRUE)     return(authorname) } get_book_rating <- function(arg_page_url) {    # f_web_page <- read_html(arg_page_url,)    #page_tbls <- html_nodes(f_web_page, "table")     score <- html_text(html_nodes(get_table(arg_page_url), '.minirating'), trim = FALSE)     rating <- trimws(substr(score, 0, 5))     return(rating) } get_table <- function(arg_page_url) {     f_web_page <- read_html(arg_page_url,)     page_tbls <- html_nodes(f_web_page, "table")     return(page_tbls) }
crime_data_table <- scrap_crimebook_data()
library(XML)
library(rvest)
crime_data_table <- scrap_crimebook_data()
head(crime_data_table, 800)
str(crimebooks_data_table)
crimebooks_data_table <- scrap_crimebook_data() head(crimebooks_data_table, 800)
crimebooks_data_table <- scrap_crimebook_data()
head(crimebooks_data_table, 800)
str(crimebooks_data_table)
crimebook_data <- write.csv(crimebooks_data_table, file = "C:/Users/raghunath/Source/Repos/DataScience/Lab4_WebScrapping/crimebook_data/crimebooksdata.csv", row.names = FALSE)
#Funtion to get the topic name get_topic_name<- function(arg_page_url) {       topicname <- html_text(html_nodes(get_table(arg_page_url), '.bookTitle'), trim = TRUE)     return(topicname) }
